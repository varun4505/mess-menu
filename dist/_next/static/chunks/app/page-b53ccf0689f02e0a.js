(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1057:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>r});var s=l(5155),a=l(2115);function r(){let[e,t]=(0,a.useState)(null),[l,r]=(0,a.useState)(null),[n,i]=(0,a.useState)(!1),d=async l=>{if(l.preventDefault(),!e)return void r({type:"error",text:"Please select a file"});i(!0);let s=new FormData;s.append("file",e);try{let e=await fetch("/api/upload",{method:"POST",body:s}),l=await e.json();if(e.ok){r({type:"success",text:l.message}),t(null);let e=document.querySelector('input[type="file"]');e&&(e.value="")}else r({type:"error",text:l.error||"Error uploading file"})}catch(e){r({type:"error",text:"Error uploading file"})}finally{i(!1)}};return(0,s.jsx)("main",{className:"min-h-screen p-8",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Mess Menu Upload"}),(0,s.jsxs)("form",{onSubmit:d,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:[(0,s.jsx)("input",{type:"file",accept:".xlsx",onChange:e=>{e.target.files&&e.target.files[0]&&(t(e.target.files[0]),r(null))},className:"block w-full text-sm text-gray-500   file:mr-4 file:py-2 file:px-4   file:rounded-full file:border-0   file:text-sm file:font-semibold   file:bg-blue-50 file:text-blue-700   hover:file:bg-blue-100"}),(0,s.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Upload an Excel file (.xlsx) containing mess menu data"})]}),(0,s.jsx)("button",{type:"submit",disabled:!e||n,className:"w-full py-2 px-4 rounded-md text-white font-medium\n              ".concat(!e||n?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"),children:n?"Uploading...":"Upload Menu"})]}),l&&(0,s.jsx)("div",{className:"mt-4 p-4 rounded-md ".concat("success"===l.type?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:l.text})]})})}},8116:(e,t,l)=>{Promise.resolve().then(l.bind(l,1057))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(8116)),_N_E=e.O()}]);